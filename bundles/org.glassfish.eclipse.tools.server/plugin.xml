<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>

    <extension point="org.eclipse.wst.server.core.serverTypes">
        <serverType
            id="glassfish.server"
            class="org.glassfish.eclipse.tools.server.GlassFishServer"
            behaviourClass="org.glassfish.eclipse.tools.server.deploying.GlassFishServerBehaviour"
            name="%serverTypeNameglassfish"
            description="%serverTypeDescriptionGlassFish"
            hasConfiguration="false"
            launchConfigId="org.glassfish.jst.server.GlassfishServerLaunchConfigurationType"
            launchModes="run,debug"
            runtime="true"
            runtimeTypeId="glassfish.runtime"
            startBeforePublish="true"
            supportsRemoteHosts="true">
        </serverType>
    </extension>
    
    <extension point="org.eclipse.wst.server.core.runtimeTypes">
        <runtimeType
            id="glassfish.runtime"
            class="org.glassfish.eclipse.tools.server.GlassFishRuntime"
            name="%runtimeTypeNameglassfish"
            description="%runtimeTypeDescriptionglassfish"
            vendor="%runtimeTypeGlassFishVendor">
            <moduleType types="jst.web" versions="2.2, 2.3, 2.4, 2.5, 3.0, 3.1, 4.0, 5.0, 6.0, 6.1"/>
            <moduleType types="jst.ejb" versions="1.1, 2.0, 2.1, 3.0, 3.1, 3.2"/>
            <moduleType types="jst.connector" versions="1.0, 1.5, 1.6, 1.7, 1.8"/>
            <moduleType types="jst.ear" versions="1.2, 1.3, 1.4, 5.0, 6.0, 7.0, 8.0"/>
            <moduleType types="jst.utility"  versions="1.0"/>
            <moduleType types="jst.appclient" versions="1.2, 1.3, 1.4, 5.0, 6.0, 7.0, 8.0"/>
        </runtimeType>
    </extension>
    
    <extension point="org.eclipse.wst.server.core.launchableAdapters">
        <launchableAdapter
            id="org.glassfish.launchableAdapter"
            class="org.glassfish.eclipse.tools.server.archives.EclipseToGlassFishArchiveConverter"
            priority="999"
            typeIds="glassfish.server"/>
    </extension>
    
    <extension point="org.eclipse.debug.core.launchConfigurationTypes">
        <launchConfigurationType
            id="org.glassfish.jst.server.GlassfishServerLaunchConfigurationType"
            name="%glassfish.server.runConfigurationName"
            delegate="org.glassfish.eclipse.tools.server.starting.GlassFishServerLaunchDelegate"
            modes="run, debug"
            sourceLocatorId="org.eclipse.jdt.launching.sourceLocator.JavaSourceLookupDirector"
            sourcePathComputerId="org.eclipse.jst.server.generic.core.sourcePathComputer"/>
    </extension> 
    
    <extension-point id="runtimeComponentProviders" 
                     name="%runtimeComponentProvidersExtensionPoint" 
                     schema="schema/runtimeComponentProviders.exsd"
    />
    
    

    <!--
       System Libraries
    -->

    <extension point="org.eclipse.jdt.core.classpathContainerInitializer">
        <classpathContainerInitializer
            id="org.glassfish.eclipse.tools.server.lib.system"
            class="org.glassfish.eclipse.tools.server.internal.SystemLibrariesContainer$Initializer"/>
    </extension>
  
    <extension point="org.eclipse.jst.j2ee.classpathdep">
        <filteredClasspathContainer containerID="org.glassfish.eclipse.tools.server.lib.system"/>
    </extension>
    
  
  
    <!--
        WST Facets
    -->

    <extension point="org.eclipse.wst.common.project.facet.core.runtimes">
    
        <runtime-component-type id="glassfish.runtime"/>

        <runtime-component-version type="glassfish.runtime" version="3.1"/>
        <runtime-component-version type="glassfish.runtime" version="4"/>
        <runtime-component-version type="glassfish.runtime" version="5"/>
        <runtime-component-version type="glassfish.runtime" version="6"/>
        <runtime-component-version type="glassfish.runtime" version="7"/>

        <supported>
            <runtime-component id="glassfish.runtime" version="3.1"/>
            <facet id="glassfish.web" version="3.1"/>
            <facet id="glassfish.ejb" version="3.1"/>
            <facet id="jst.web" version="3.0]"/>
            <facet id="jst.ejb" version="3.1]"/>
            <facet id="jst.ear" version="6.0]"/>
            <facet id="jst.connector" version="1.6]"/>
            <facet id="jst.appclient" version="6.0]"/>
            <facet id="jst.utility" version="1.0"/> 
            <facet id="jst.webfragment" version="3.0" />
        </supported>
        
        <supported>
            <runtime-component id="glassfish.runtime" version="4"/>
            <facet id="glassfish.web" version="4.0]"/>
            <facet id="glassfish.ejb" version="4.0]"/>
            <facet id="jst.web" version="3.1]"/>
            <facet id="jst.ejb" version="3.2]"/>
            <facet id="jst.ear" version="7.0]"/>
            <facet id="jst.connector" version="1.6]"/>
            <facet id="jst.appclient" version="7.0]"/>
            <facet id="jst.utility" version="1.0"/> 
            <facet id="jst.webfragment" version="3.1]" />
        </supported>
        
        <supported>
            <runtime-component id="glassfish.runtime" version="5"/>
            <facet id="glassfish.web" version="5]"/>
            <facet id="glassfish.ejb" version="5]"/>
            <facet id="jst.web" version="4.0]"/>
            <facet id="jst.ejb" version="3.2]"/>
            <facet id="jst.ear" version="8.0]"/>
            <facet id="jst.connector" version="1.7]"/>
            <facet id="jst.appclient" version="8.0]"/>
            <facet id="jst.utility" version="1.0"/> 
            <facet id="jst.webfragment" version="4.0]" />
        </supported>
        
        <supported>
            <runtime-component id="glassfish.runtime" version="6"/>
            <facet id="glassfish.web" version="6]"/>
            <facet id="glassfish.ejb" version="6]"/>
            <facet id="jst.web" version="5.0]"/>
            <facet id="jst.ejb" version="3.2]"/>
            <facet id="jst.ear" version="8.0]"/>
            <facet id="jst.connector" version="1.7]"/>
            <facet id="jst.appclient" version="8.0]"/>
            <facet id="jst.utility" version="1.0"/> 
            <facet id="jst.webfragment" version="4.0]" />
        </supported>
        
        <supported>
            <runtime-component id="glassfish.runtime" version="7"/>
            <facet id="glassfish.web" version="7]"/>
            <facet id="glassfish.ejb" version="7]"/>
            <facet id="jst.web" version="6.1]"/>
            <facet id="jst.ejb" version="3.2]"/>
            <facet id="jst.ear" version="8.0]"/>
            <facet id="jst.connector" version="1.7]"/>
            <facet id="jst.appclient" version="8.0]"/>
            <facet id="jst.utility" version="1.0"/> 
            <facet id="jst.webfragment" version="6.0]" />
        </supported>
    </extension>
    
    <extension point="org.eclipse.wst.common.project.facet.core.runtimes">
        <adapter>
            <runtime-component id="glassfish.runtime"/>
            <factory class="org.glassfish.eclipse.tools.server.internal.GlassFishClasspathProvider$Factory"/>
            <type class="org.eclipse.jst.common.project.facet.core.IClasspathProvider"/>
        </adapter>
    </extension>
    
    <extension point="org.eclipse.wst.common.project.facet.core.facets">
        <project-facet id="glassfish.web">
            <label>%glassfish.web.facet</label>
            <description>%glassfish.web.facet.description</description>
        </project-facet>
        
        <project-facet id="glassfish.ejb">
            <label>%glassfish.ejb.facet</label>
            <description>%glassfish.ejb.facet.description</description>
        </project-facet>
        
        <project-facet-version facet="glassfish.web" version="3.1">
            <action type="INSTALL">
                <delegate class="org.glassfish.eclipse.tools.server.facets.GlassFishWebFacetInstallDelegate"/>
            </action>
            <action  type="UNINSTALL">
                <delegate class="org.glassfish.eclipse.tools.server.facets.GlassFishWebFacetUninstallDelegate"/>
            </action>   
            <constraint>
                <requires facet="jst.web"/>
            </constraint>
        </project-facet-version>
        
        <project-facet-version facet="glassfish.web" version="4.0">
            <action type="INSTALL">
                <delegate class="org.glassfish.eclipse.tools.server.facets.GlassFishWebFacetInstallDelegate"/>
            </action>
            <action  type="UNINSTALL">
                <delegate class="org.glassfish.eclipse.tools.server.facets.GlassFishWebFacetUninstallDelegate"/>
            </action>   
            <constraint>
                <requires facet="jst.web"/>
            </constraint>
        </project-facet-version>
        
        <project-facet-version facet="glassfish.web" version="5">
            <action type="INSTALL">
                <delegate class="org.glassfish.eclipse.tools.server.facets.GlassFishWebFacetInstallDelegate"/>
            </action>
            <action  type="UNINSTALL">
                <delegate class="org.glassfish.eclipse.tools.server.facets.GlassFishWebFacetUninstallDelegate"/>
            </action>   
            <constraint>
                <requires facet="jst.web"/>
            </constraint>
        </project-facet-version>
        
        <project-facet-version facet="glassfish.ejb" version="3.1">
            <action type="INSTALL">
                <delegate class="org.glassfish.eclipse.tools.server.facets.GlassFishEjbFacetInstallDelegate"/>
            </action>
            <action  type="UNINSTALL">
                <delegate class="org.glassfish.eclipse.tools.server.facets.GlassFishEjbFacetUninstallDelegate"/>
            </action>   
            <constraint>
                <requires facet="jst.ejb"/>
            </constraint>
        </project-facet-version>
        
        <project-facet-version facet="glassfish.ejb" version="4.0">
            <action type="INSTALL">
                <delegate class="org.glassfish.eclipse.tools.server.facets.GlassFishEjbFacetInstallDelegate"/>
            </action>
            <action type="UNINSTALL">
                <delegate class="org.glassfish.eclipse.tools.server.facets.GlassFishEjbFacetUninstallDelegate"/>
            </action>   
            <constraint>
                <requires facet="jst.ejb"/>
            </constraint>
        </project-facet-version>
        
        <project-facet-version facet="glassfish.ejb" version="5">
            <action type="INSTALL">
                <delegate class="org.glassfish.eclipse.tools.server.facets.GlassFishEjbFacetInstallDelegate"/>
            </action>
            <action type="UNINSTALL">
                <delegate class="org.glassfish.eclipse.tools.server.facets.GlassFishEjbFacetUninstallDelegate"/>
            </action>   
            <constraint>
                <requires facet="jst.ejb"/>
            </constraint>
        </project-facet-version>
    </extension>
    
    <extension point="org.eclipse.wst.common.project.facet.core.defaultFacets">
        <default-facets>
            <context>
                <runtime-component id="glassfish.runtime" version="3.1"/>
                <fixed-facet id="jst.web"/>
            </context>
            <facet id="glassfish.web" version="3.1" />
        </default-facets>        

        <default-facets>
            <context>
                <runtime-component id="glassfish.runtime" version="3.1"/>
                <fixed-facet id="jst.ejb"/>
            </context>
            <facet id="glassfish.ejb" version="3.1" />
        </default-facets>        
        
        <default-facets>
            <context>
                <runtime-component id="glassfish.runtime" version="4"/>
                <fixed-facet id="jst.web"/>
            </context>
            <facet id="glassfish.web" version="4.0" />
        </default-facets>        

        <default-facets>
            <context>
                <runtime-component id="glassfish.runtime" version="4"/>
                <fixed-facet id="jst.ejb"/>
            </context>
            <facet id="glassfish.ejb" version="4.0" />
        </default-facets>        
        
        <default-facets>
            <context>
                <runtime-component id="glassfish.runtime" version="5"/>
                <fixed-facet id="jst.web"/>
            </context>
            <facet id="glassfish.web" version="5" />
        </default-facets>        

        <default-facets>
            <context>
                <runtime-component id="glassfish.runtime" version="5"/>
                <fixed-facet id="jst.ejb"/>
            </context>
            <facet id="glassfish.ejb" version="5" />
        </default-facets>
        
        <default-facets>
            <context>
                <runtime-component id="glassfish.runtime" version="7"/>
                <fixed-facet id="jst.web"/>
            </context>
            <facet id="glassfish.web" version="6.0" />
        </default-facets>      
    </extension>
    
    <extension point="org.eclipse.wst.common.project.facet.core.runtimeBridges">    
        <bridge
            id="org.glassfish.eclipse.tools.server.bridge"
            class="org.glassfish.eclipse.tools.server.internal.GlassFishRuntimeBridge"/>
    </extension>
  
  
  
  
    <!--
       JST Facets
    -->
     
    <extension point="org.eclipse.jst.common.project.facet.core.libraryProviders">
        <provider id="GlassFish-4-SystemLibrary-JSF" extends="no-op-library-provider">
            <label>%GF4.SystemLibrary.JSF.Label</label>
            <priority>1000</priority>
            <param name="message" value="%GF4.SystemLibrary.JSF.Message"/>
            <enablement>
                <with variable="requestingProjectFacet">
                    <test property="org.eclipse.wst.common.project.facet.core.projectFacet" value="jst.jsf" forcePluginActivation="true"/>
                </with>
                <with variable="targetedRuntimes">
                    <count value="+"/>
                    <iterate operator="and">
                        <test property="org.glassfish.eclipse.tools.server.internal.containsRuntimeComponentType" value="glassfish.runtime:4,5" forcePluginActivation="true"/>
                    </iterate>
                </with>     
            </enablement>
        </provider>
    </extension>
    
    <extension point="org.eclipse.jst.common.project.facet.core.libraryProviders">
        <provider id="GlassFish-4-SystemLibrary-JPA" extends="no-op-library-provider">
            <label>%GF4.SystemLibrary.JPA.Label</label>
            <priority>1000</priority>
            <param name="message" value="%GF4.SystemLibrary.JPA.Message"/>
            <enablement>
                <with variable="requestingProjectFacet">
                    <test property="org.eclipse.wst.common.project.facet.core.projectFacet" value="jpt.jpa" forcePluginActivation="true"/>
                </with>
                <with variable="targetedRuntimes">
                    <count value="+"/>
                    <iterate operator="and">
                        <test property="org.glassfish.eclipse.tools.server.internal.containsRuntimeComponentType" value="glassfish.runtime:4,5" forcePluginActivation="true"/>
                    </iterate>
                </with>     
            </enablement>
        </provider>
    </extension>
  
    <extension point="org.eclipse.jst.common.project.facet.core.libraryProviders">
        <provider id="GlassFish-3.1-SystemLibrary-JSF" extends="no-op-library-provider">
            <label>%GF31.SystemLibrary.JSF.Label</label>
            <priority>1000</priority>
            <param name="message" value="%GF31.SystemLibrary.JSF.Message"/>
            <enablement>
                <with variable="requestingProjectFacet">
                    <test property="org.eclipse.wst.common.project.facet.core.projectFacet" value="jst.jsf" forcePluginActivation="true"/>
                </with>
                <with variable="targetedRuntimes">
                    <count value="+"/>
                    <iterate operator="and">
                        <test property="org.glassfish.eclipse.tools.server.internal.containsRuntimeComponentType" value="glassfish.runtime:3.1" forcePluginActivation="true"/>
                    </iterate>
                </with>     
            </enablement>
        </provider>
    </extension>

    <extension point="org.eclipse.jst.common.project.facet.core.libraryProviders">
        <provider id="GlassFish-3.1-SystemLibrary-JPA" extends="no-op-library-provider">
            <label>%GF31.SystemLibrary.JPA.Label</label>
            <priority>1000</priority>
            <param name="message" value="%GF31.SystemLibrary.JPA.Message"/>
            <enablement>
                <with variable="requestingProjectFacet">
                    <test property="org.eclipse.wst.common.project.facet.core.projectFacet" value="jpt.jpa" forcePluginActivation="true"/>
                </with>
                <with variable="targetedRuntimes">
                    <count value="+"/>
                    <iterate operator="and">
                        <test property="org.glassfish.eclipse.tools.server.internal.containsRuntimeComponentType" value="glassfish.runtime:3.1" forcePluginActivation="true"/>
                    </iterate>
                </with>     
            </enablement>
        </provider>
    </extension>
    
    <extension point="org.eclipse.jst.common.project.facet.core.libraryProviders">
        <provider id="org.glassfish.eclipse.tools.server.jaxrsLibraryproviderID">
            <label>JAX-RS GlassFish Library</label>
            <priority>10000</priority>
            <enablement>
                <with variable="requestingProjectFacet">
                    <test
                        property="org.eclipse.wst.common.project.facet.core.projectFacet"
                        value="jst.jaxrs:1.1" forcePluginActivation="true"/>
                </with>
                <with variable="projectFacets">
                    <count value="+"/>
                    <iterate operator="or">
                        <test
                            property="org.eclipse.wst.common.project.facet.core.projectFacet"
                            value="jst.web:[3.0" forcePluginActivation="true"/>
                    </iterate>
                </with>        
                <with variable="targetedRuntimes">
                    <count value="+"/>
                    <iterate operator="and">
                        <test property="org.glassfish.eclipse.tools.server.internal.containsRuntimeComponentType" value="glassfish.runtime:[3.1" forcePluginActivation="true"/>
                    </iterate>
                </with>     
            </enablement>
            <action type="INSTALL">
                <operation class="org.glassfish.eclipse.tools.server.internal.InstallJAXRS"/>
            </action>
            <action type="UNINSTALL">
                <operation class="org.glassfish.eclipse.tools.server.internal.InstallJAXRS"/>
            </action>
        </provider>
    </extension>
    
    <extension point="org.eclipse.jst.ws.jaxrs.core.jaxrsLibraryProvider" id="MyJAXRSLibraryProvider" >
        <jaxrsLibraryprovider
            libraryProviderID="org.glassfish.eclipse.tools.server.jaxrsLibraryproviderID" 
            showUpdateDD="true"
            updateDDSelected="true" 
            sevletClassName="com.sun.jersey.spi.container.servlet.ServletContainer"/>
    </extension>
    
    
    
    
    <!--
       DTDs
    -->

    <extension point = "org.eclipse.wst.xml.core.catalogContributions">
        <catalogContribution id="default">
            
            
            <public publicId="-//Sun Microsystems, Inc.//DTD Sun ONE Application Server 7.0 J2EE Application 1.3//EN"
                    uri="dtds/sun-application_1_3-0.dtd" 
                    webURL="http://www.sun.com/software/appserver/dtds/sun-application_1_3-0.dtd" />
            
            <public publicId="-//Sun Microsystems, Inc.//DTD Sun ONE Application Server 8.0 J2EE Application 1.4//EN"
                    uri="dtds/sun-application_1_4-0.dtd" 
                    webURL="http://www.sun.com/software/appserver/dtds/sun-application_1_4-0.dtd" />
            
            
            <public publicId="-//Sun Microsystems, Inc.//DTD Application Server 8.0 J2EE Application 1.4//EN"
                    uri="dtds/sun-application_1_4-0.dtd" 
                    webURL="http://www.sun.com/software/appserver/dtds/sun-application_1_4-0.dtd" />
            
            
            <public publicId="-//Sun Microsystems, Inc.//DTD Application Server 8.1 J2EE Application 1.4//EN"
                    uri="dtds/sun-application_1_4-0.dtd" 
                    webURL="http://www.sun.com/software/appserver/dtds/sun-application_1_4-0.dtd" />
            
            
            <public publicId="-//Sun Microsystems, Inc.//DTD Application Server 9.0 Java EE Application 5.0//EN"
                    uri="dtds/sun-application_5_0-0.dtd"
                    webURL="http://www.sun.com/software/appserver/dtds/sun-application_5_0-0.dtd" />
            
            <public publicId="-//Sun Microsystems, Inc.//DTD GlassFish Application Server 3.0 Java EE Application 6.0//EN"
                    uri="dtds/sun-application_6_0-0.dtd"
                    webURL="http://www.sun.com/software/appserver/dtds/sun-application_6_0-0.dtd" />

            
            <public publicId="-//Sun Microsystems, Inc.//DTD Sun ONE Application Server 7.0 EJB 2.0//EN"
                    uri="dtds/sun-ejb-jar_2_0-0.dtd" 
                    webURL="http://www.sun.com/software/appserver/dtds/sun-ejb-jar_2_0-0.dtd" />
            
            
            <public publicId="-//Sun Microsystems, Inc.//DTD Sun ONE Application Server 8.0 EJB 2.1//EN"
                    uri="dtds/sun-ejb-jar_2_1-0.dtd" 
                    webURL="http://www.sun.com/software/appserver/dtds/sun-ejb-jar_2_1-0.dtd" />
            
            
            <public publicId="-//Sun Microsystems, Inc.//DTD Application Server 8.0 EJB 2.1//EN"
                    uri="dtds/sun-ejb-jar_2_1-0.dtd" 
                    webURL="http://www.sun.com/software/appserver/dtds/sun-ejb-jar_2_1-0.dtd" />
            
            
            <public publicId="-//Sun Microsystems, Inc.//DTD Application Server 8.1 EJB 2.1//EN"
                    uri="dtds/sun-ejb-jar_2_1-1.dtd" 
                    webURL="http://www.sun.com/software/appserver/dtds/sun-ejb-jar_2_1-1.dtd" />
            
            
            <public publicId="-//Sun Microsystems, Inc.//DTD Application Server 9.0 EJB 3.0//EN"
                    uri="dtds/sun-ejb-jar_3_0-0.dtd"
                    webURL="http://www.sun.com/software/appserver/dtds/sun-ejb-jar_3_0-0.dtd" />
            
            
            <public publicId="-//Sun Microsystems, Inc.//DTD Application Server 9.1.1 EJB 3.0//EN"
                    uri="dtds/sun-ejb-jar_3_0-1.dtd"
                    webURL="http://www.sun.com/software/appserver/dtds/sun-ejb-jar_3_0-1.dtd" /> 
 
            <public publicId="-//Sun Microsystems, Inc.//DTD GlassFish Application Server 3.0 EJB 3.1//EN"
                    uri="dtds/sun-ejb-jar_3_1-0.dtd"
                    webURL="http://www.sun.com/software/appserver/dtds/sun-ejb-jar_3_1-0.dtd" />


            
            <public publicId="-//Sun Microsystems, Inc.//DTD Sun ONE Application Server 7.0 Application Client 1.3//EN"
                    uri="dtds/sun-application-client_1_3-0.dtd" 
                    webURL="http://www.sun.com/software/appserver/dtds/sun-application-client_1_3-0.dtd" />
            
            
            <public publicId="-//Sun Microsystems, Inc.//DTD Sun ONE Application Server 8.0 Application Client 1.4//EN"
                    uri="dtds/sun-application-client_1_4-0.dtd" 
                    webURL="http://www.sun.com/software/appserver/dtds/sun-application-client_1_4-0.dtd" />
            
            
            <public publicId="-//Sun Microsystems, Inc.//DTD Application Server 8.0 Application Client 1.4//EN" 
                    uri="dtds/sun-application-client_1_4-0.dtd" 
                    webURL="http://www.sun.com/software/appserver/dtds/sun-application-client_1_4-0.dtd" />
            
            
            <public publicId="-//Sun Microsystems, Inc.//DTD Application Server 8.1 Application Client 1.4//EN"
                    uri="dtds/sun-application-client_1_4-1.dtd" 
                    webURL="http://www.sun.com/software/appserver/dtds/sun-application-client_1_4-1.dtd" />
            
            
            <public publicId="-//Sun Microsystems, Inc.//DTD Application Server 9.0 Application Client 5.0//EN" 
                    uri="dtds/sun-application-client_5_0-0.dtd" 
                    webURL="http://www.sun.com/software/appserver/dtds/sun-application-client_5_0-0.dtd" />

            <public publicId="-//Sun Microsystems, Inc.//DTD GlassFish Application Server 3.0 Application Client 6.0//EN"
                    uri="dtds/sun-application-client_6_0-0.dtd"
                    webURL="http://www.sun.com/software/appserver/dtds/sun-application-client_6_0-0.dtd" />

            
            <public publicId="-//Sun Microsystems, Inc.//DTD Sun ONE Application Server 7.0 Connector 1.0//EN" 
                    uri="dtds/sun-connector_1_0-0.dtd" 
                    webURL="http://www.sun.com/software/appserver/dtds/sun-connector_1_0-0.dtd" />
            
            <public publicId="-//Sun Microsystems, Inc.//DTD Application Server 9.0 Connector 1.5//EN" 
                    uri="dtds/sun-connector_1_5-0.dtd" 
                    webURL="http://www.sun.com/software/appserver/dtds/sun-connector_1_5-0.dtd" />
            
            
            <public publicId="-//Sun Microsystems, Inc.//DTD Sun ONE Application Server 7.0 Servlet 2.3//EN"
                    uri="dtds/sun-web-app_2_3-0.dtd" 
                    webURL="http://www.sun.com/software/appserver/dtds/sun-web-app_2_3-0.dtd" />
            
            
            <public publicId="-//Sun Microsystems, Inc.//DTD Sun ONE Application Server 8.0 Servlet 2.4//EN" 
                    uri="dtds/sun-web-app_2_4-0.dtd" 
                    webURL="http://www.sun.com/software/appserver/dtds/sun-web-app_2_4-0.dtd" />
            
            
            <public publicId="-//Sun Microsystems, Inc.//DTD Application Server 8.0 Servlet 2.4//EN"
                    uri="dtds/sun-web-app_2_4-0.dtd" 
                    webURL="http://www.sun.com/software/appserver/dtds/sun-web-app_2_4-0.dtd" />
            
            
            <public publicId="-//Sun Microsystems, Inc.//DTD Sun ONE Web Server 6.1 Servlet 2.3//EN"
                    uri="dtds/sun-web-app_2_3-1.dtd" 
                    webURL="http://www.sun.com/software/appserver/dtds/sun-web-app_2_3-1.dtd" />
            
            
            <public publicId="-//Sun Microsystems, Inc.//DTD Application Server 8.1 Servlet 2.4//EN"
                    uri="dtds/sun-web-app_2_4-1.dtd" 
                    webURL="http://www.sun.com/software/appserver/dtds/sun-web-app_2_4-1.dtd" />
            

            <public publicId="-//Sun Microsystems, Inc.//DTD Application Server 9.0 Servlet 2.5//EN"
                    uri="dtds/sun-web-app_2_5-0.dtd"
                    webURL="http://www.sun.com/software/appserver/dtds/sun-web-app_2_5-0.dtd" />

            <public publicId="-//Sun Microsystems, Inc.//DTD GlassFish Application Server 3.0 Servlet 3.0//EN"
                    uri="dtds/sun-web-app_3_0-0.dtd"
                    webURL="http://www.sun.com/software/appserver/dtds/sun-web-app_3_0-0.dtd" />
            
            
            <public publicId="-//Sun Microsystems, Inc.//DTD Sun ONE Application Server 7.0 Application Client Container 1.0//EN" 
                    uri="dtds/sun-application-client-container_1_0.dtd"
                    webURL="http://www.sun.com/software/appserver/dtds/sun-application-client-container_1_0.dtd" />
            
            
            <public publicId="-//Sun Microsystems, Inc.//DTD Sun ONE Application Server 7.0 OR Mapping //EN" 
                    uri="dtds/sun-cmp-mapping_1_0.dtd" 
                    webURL="http://www.sun.com/software/appserver/dtds/sun-cmp-mapping_1_0.dtd" />
            
            
            <public publicId="-//Sun Microsystems, Inc.//DTD Application Server 8.0 OR Mapping//EN" 
                    uri="dtds/sun-cmp-mapping_1_1.dtd" 
                    webURL="http://www.sun.com/software/appserver/dtds/sun-cmp-mapping_1_1.dtd" />
            
            
            <public publicId="-//Sun Microsystems, Inc.//DTD Application Server 8.1 OR Mapping//EN"
                    uri="dtds/sun-cmp-mapping_1_2.dtd" 
                    webURL="http://www.sun.com/software/appserver/dtds/sun-cmp-mapping_1_2.dtd" />
            
            
            <public publicId="-//Sun Microsystems, Inc.//DTD Application Server 8.0 Domain//EN"
                    uri="dtds/sun-domain_1_0.dtd" 
                    webURL="http://www.sun.com/software/appserver/dtds/sun-domain_1_0.dtd" />
            
            
            <public publicId="-//Sun Microsystems Inc.//DTD Application Server 8.0 Application Client Container//EN" 
                    uri="dtds/sun-application-client-container_1_2.dtd" 
                    webURL="http://www.sun.com/software/appserver/dtds/sun-application-client-container_1_2.dtd" />
            
            
            <public publicId="-//Sun Microsystems, Inc.//DTD Application Server 8.1 Application Client Container //EN" 
                    uri="dtds/sun-application-client-container_1_1.dtd"
                    webURL="http://www.sun.com/software/appserver/dtds/sun-application-client-container_1_1.dtd" />
            
            
            <public publicId="-//Sun Microsystems Inc.//DTD Application Server 8.0 Domain//EN"
                    uri="dtds/sun-domain_1_1.dtd"
                    webURL="http://www.sun.com/software/appserver/dtds/sun-domain_1_1.dtd" />
            
            
            <public publicId="-//Sun Microsystems Inc.//DTD Application Server 8.1 Domain//EN"
                    uri="dtds/sun-domain_1_1.dtd"
                    webURL="http://www.sun.com/software/appserver/dtds/sun-domain_1_1.dtd" />
            
            
            <public publicId="-//Sun Microsystems Inc.//DTD Application Server 9.0 Domain//EN"
                    uri="dtds/sun-domain_1_2.dtd"
                    webURL="http://www.sun.com/software/appserver/dtds/sun-domain_1_2.dtd" />
            
            <public publicId="-//Sun Microsystems Inc.//DTD Application Server 9.1 Domain//EN"
                    uri="dtds/sun-domain_1_3.dtd"
                    webURL="http://www.sun.com/software/appserver/dtds/sun-domain_1_3.dtd" />
            
            <public publicId="-//Sun Microsystems Inc.//DTD Application Server 9.1.1 Domain//EN"
                    uri="dtds/sun-domain_1_4.dtd"
                    webURL="http://www.sun.com/software/appserver/dtds/sun-domain_1_4.dtd" />
            
            <public publicId="-//Sun Microsystems Inc.//DTD GlassFish Communications Server 1.5 Domain//EN"
                    uri="dtds/sun-domain_1_5.dtd"
                    webURL="http://www.sun.com/software/appserver/dtds/sun-domain_1_5.dtd" />

            <public publicId="-//Java Community Process//DTD SIP Application 1.0//ENN"
                    uri="dtds/sip-app_1_0.dtd"
                    webURL="http://www.jcp.org/dtd/sip-app_1_0.dtd" />
                           
            <public publicId="-//Sun Microsystems, Inc.//DTD Application Server 9.0 SIP Servlet 1.1//EN"
                    uri="dtds/sun-sip-app_1_1-0.dtd"
                    webURL="http://www.sun.com/software/appserver/dtds/sun-sip-app_1_1-0.dtd" />
            
            <public publicId="-//Sun Microsystems Inc.//DTD Sailfin 1.0//EN"
                    uri="dtds/sun-data-centric-rule_1_0.dtd"
                    webURL="http://www.sun.com/software/appserver/dtds/sun-data-centric-rule_1_0.dtd" />
            
            <public publicId="-//Sun Microsystems Inc.//DTD Sun Java System Application Server 9.1//EN"
                    uri="dtds/sun-converged-loadbalancer_1_0.dtd"
                    webURL="http://www.sun.com/software/appserver/dtds/sun-converged-loadbalancer_1_0.dtd" />

            <public publicId="-//Sun Microsystems, Inc.//DTD Application Server 9.0 Resource Definitions //EN"
                    uri="dtds/sun-resources_1_3.dtd"
                    webURL="http://www.sun.com/software/appserver/dtds/sun-resources_1_3.dtd" />

            <public publicId="-//Sun Microsystems, Inc.//DTD GlassFish Application Server 3.0 Resource Definitions //EN"
                    uri="dtds/sun-resources_1_4.dtd"
                    webURL="http://www.sun.com/software/appserver/dtds/sun-resources_1_4.dtd" />

                    
            <public publicId="-//GlassFish.org//DTD GlassFish Application Server 3.1 Servlet 3.0//EN"
                    uri="dtds/glassfish-web-app_3_0-1.dtd"
                    webURL="http://glassfish.org/dtds/glassfish-web-app_3_0-1.dtd" />
                    
            <public publicId="-//GlassFish.org//DTD GlassFish Application Server 3.1 Resource Definitions//EN"
                    uri="dtds/glassfish-resources_1_5.dtd"
                    webURL="http://glassfish.org/dtds/glassfish-resources_1_5.dtd" />
                    
            <public publicId="-//GlassFish.org//DTD GlassFish Application Server 3.1 EJB 3.1//EN"
                    uri="dtds/glassfish-ejb-jar_3_1-1.dtd"
                    webURL="http://glassfish.org/dtds/glassfish-ejb-jar_3_1-1.dtd" />
                    
            <public publicId="-//GlassFish.org//DTD GlassFish Application Server 3.1 Java EE Application 6.0//EN"
                    uri="dtds/glassfish-application_6_0-1.dtd"
                    webURL="http://glassfish.org/dtds/glassfish-application_6_0-1.dtd" />
                    
            <public publicId="-//GlassFish.org//DTD GlassFish Application Server 3.1 Java EE Application Client 6.0//EN"
                    uri="dtds/glassfish-application-client_6_0-1.dtd"
                    webURL="http://glassfish.org/dtds/glassfish-application-client_6_0-1.dtd" />
                    
        </catalogContribution>
    </extension> 
    
    
    <extension point="org.eclipse.ui.preferenceTransfer">
    </extension>
    
    <extension point="org.eclipse.core.runtime.preferences">
        <initializer
            class="org.glassfish.eclipse.tools.server.preferences.PreferenceInitializer">
        </initializer>
    </extension>

<!-- org.eclipse.core.runtime.IAdaptable -->
    
    <extension point="org.eclipse.core.expressions.propertyTesters">
        <propertyTester
            class="org.glassfish.eclipse.tools.server.handlers.GlassFishStateTester"
            id="org.glassfish.eclipse.tools.server.GlassFishStateTester"
            namespace="org.glassfish.eclipse.tools.server"
            properties="isRunning,isRemote,isWSLInstance"
            type="org.eclipse.core.runtime.IAdaptable">
        </propertyTester>
        <propertyTester
            class="org.glassfish.eclipse.tools.server.handlers.GlassFishStateTester"
            id="org.glassfish.eclipse.tools.server.GlassFishStateTester"
            namespace="org.glassfish.eclipse.tools.server"
            properties="isRunning,isRemote,isWSLInstance"
            type="org.eclipse.core.resources.IResource">
        </propertyTester>
        
        <propertyTester
            class="org.glassfish.eclipse.tools.server.handlers.GlassFishStateTester"
            id="org.glassfish.eclipse.tools.server.GlassFishStateTester"
            namespace="org.glassfish.eclipse.tools.server"
            properties="isRunning,isRemote,isWSLInstance"
            type="org.eclipse.wst.server.ui.internal.view.servers.ModuleServer">
        </propertyTester>
        <propertyTester
            class="org.glassfish.eclipse.tools.server.handlers.GlassFishStateTester"
            id="org.glassfish.eclipse.tools.server.GlassFishStateTester"
            namespace="org.glassfish.eclipse.tools.server"
            properties="isRunning,isRemote,isWSLInstance"
            type="org.glassfish.eclipse.tools.server.ui.serverview.dynamicnodes.TreeNode">
        </propertyTester>
        <propertyTester
            class="org.glassfish.eclipse.tools.server.handlers.GlassFishStateTester"
            id="org.glassfish.eclipse.tools.server.GlassFishStateTester"
            namespace="org.glassfish.eclipse.tools.server"
            properties="isRunning,isRemote,isWSLInstance"
            type="org.eclipse.wst.xml.core.internal.document.ElementImpl">
        </propertyTester>
        <propertyTester
            class="org.glassfish.eclipse.tools.server.handlers.GlassFishStateTester"
            id="org.glassfish.eclipse.tools.server.GlassFishStateTester"
            namespace="org.glassfish.eclipse.tools.server"
            properties="isRunning,isRemote,isWSLInstance"
            type="org.eclipse.jface.text.TextSelection">
        </propertyTester>
      
        
        <propertyTester
            class="org.glassfish.eclipse.tools.server.handlers.GlassFishVersionTester"
            id="org.glassfish.eclipse.tools.server.GlassFishVersionTester"
            namespace="org.glassfish.eclipse.tools"
            properties="v3Test"
            type="org.eclipse.wst.server.core.IServer">
        </propertyTester>
    </extension>

    <extension point="org.eclipse.core.expressions.propertyTesters">
        <propertyTester
            id="org.glassfish.eclipse.tools.server.internal.ContainsRuntimeComponentTypeForRuntime"
            type="org.eclipse.wst.common.project.facet.core.runtime.IRuntime"
            namespace="org.glassfish.eclipse.tools.server.internal"
            properties="containsRuntimeComponentType"
            class="org.glassfish.eclipse.tools.server.internal.ContainsRuntimeComponentType">
        </propertyTester>
        <propertyTester
            id="org.glassfish.eclipse.tools.server.internal.ContainsRuntimeComponentTypeForCollection"
            type="java.util.Collection"
            namespace="org.glassfish.eclipse.tools.server.internal"
            properties="containsRuntimeComponentType"
            class="org.glassfish.eclipse.tools.server.internal.ContainsRuntimeComponentType">
        </propertyTester>
    </extension>


    <extension point="org.eclipse.core.expressions.definitions">
        <definition
            id="org.glassfish.eclipse.tools.server.oneGlassfishSelected">
            <and>
                <count value="1"/>
                <iterate ifEmpty="false">
                    <or>
                        <reference definitionId="org.glassfish.eclipse.tools.server.isGlassfish"/>
                    </or>
                </iterate>
            </and>
        </definition>
     
        <definition id="org.glassfish.eclipse.tools.server.isGlassfish">
            <adapt type="org.eclipse.wst.server.core.IServer">
                <and>
                    <test
                        property="org.eclipse.wst.server.ui.serverType"
                        value="glassfish.server">
                    </test>
                </and>
            </adapt>
        </definition>
        
        <definition id="org.glassfish.eclipse.tools.server.isWSLInstance">
            <and>
                <count value="1"/>
                <iterate ifEmpty="false">
                    <and>
                        <test property="org.glassfish.eclipse.tools.server.isWSLInstance"/>
                    </and>
                </iterate>     
            </and>
        </definition>
     
        <definition id="org.glassfish.eclipse.tools.server.moreGlassfishSelected">
            <iterate ifEmpty="false">
                <or>
                    <reference definitionId="org.glassfish.eclipse.tools.server.isGlassfish"/>
                </or>
            </iterate>
        </definition>
     
        <definition id="org.glassfish.eclipse.tools.server.oneRunningGlassfishSelected">
            <and>
                <count value="1"/>
                <iterate ifEmpty="false">
                    <and>
                        <or>
                            <reference definitionId="org.glassfish.eclipse.tools.server.isGlassfish"/>
                        </or>
                        <test property="org.glassfish.eclipse.tools.server.isRunning"/>
                    </and>
                </iterate>     
            </and>
        </definition>
     
        <definition id="org.glassfish.eclipse.tools.server.isRemoteGlassfish">
            <and>
                <count value="1"/>
                <iterate ifEmpty="false">
                    <and>
                        <or>
                            <reference definitionId="org.glassfish.eclipse.tools.server.isGlassfish"/>
                        </or>
                        <test property="org.glassfish.eclipse.tools.server.isRemote"/>
                    </and>
                </iterate>     
            </and>
        </definition>
    </extension>

    <!--
       This wizard fragment plugs-in the wizard flow when Servers - New Server - GlassFish -> GlassFish
       is selected and subsequently the next button is pressed when no runtime exists yet,  
       or the add button next to Server runtime environment is pressed.
    -->
    <extension point="org.eclipse.wst.server.ui.wizardFragments">
        <fragment
            id="org.glassfish.NewGlassFishRuntimeWizardFragment"
            class="org.glassfish.eclipse.tools.server.ui.wizards.NewGlassFishRuntimeWizardFragment"
            typeIds="glassfish.runtime">
        </fragment>
        <fragment
            id="org.glassfish.NewGlassFishServerWizardFragment"
            class="org.glassfish.eclipse.tools.server.ui.wizards.NewGlassFishServerWizardFragment"
            typeIds="glassfish.server">
        </fragment>
    </extension>
    
    
    <!--
        The images associated with the GlassFish runtime and server
    -->
    <extension point="org.eclipse.wst.server.ui.serverImages">
        <image
            id="org.eclipse.jst.server.glassfish.image"
            typeIds="glassfish.runtime,glassfish.server"
            icon="icons/obj16/glassfish-blue.png">
        </image>
    </extension>
    
    <extension point="org.eclipse.wst.common.project.facet.ui.images">
        <image
            path="icons/obj16/glassfish-blue.png"
            runtime-component-type="glassfish.runtime">
        </image>
    </extension>
    
    
    <extension point="org.eclipse.wst.server.core.runtimeLocators">
        <runtimeLocator
            id="org.glassfish.eclipse.tools"
            class="org.glassfish.eclipse.tools.server.ui.internal.GlassFishRuntimeLocatorDelegate"
            typeIds="glassfish.runtime"/>
    </extension> 
    
    
    <!--
        The label associated with the GlassFish runtime, i.e. "GlassFish 7.0.10" (this may be unused?)
    -->
    <extension point="org.eclipse.wst.common.project.facet.core.runtimes">
        <adapter>
            <runtime-component id="glassfish.runtime"/>
            <factory class="org.glassfish.eclipse.tools.server.ui.internal.GlassFishRuntimeComponentLabelProviderFactory"/>
            <type class="org.eclipse.wst.common.project.facet.ui.IRuntimeComponentLabelProvider"/>
        </adapter>
    </extension>
    
    
    <!-- 
        The global preferenes for all GlassFish server instances in Eclipse menu - preferences - GlassFish Preferences 
    -->
    <extension point="org.eclipse.ui.preferencePages">
        <page
            id="org.glassfish.eclipse.tools.server.preferences.GlassFishPreferencePage"
            class="org.glassfish.eclipse.tools.server.ui.preferences.GlassFishPreferencePage"
            name="GlassFish Preferences">
        </page>
    </extension>
    
    
    <!-- 
        The launch configuration that's shown when the "Open Launch Configuration" is clicked on e.g. the "Server Editor",
        which is the editor being opened when a server in the Servers view is double clicked. 
    -->
    <extension point="org.eclipse.debug.ui.launchConfigurationTabGroups">
        <launchConfigurationTabGroup
            id="org.glassfish.jst.server.launchConfigurationTabGroup"
            class="org.glassfish.eclipse.tools.server.ui.editorsections.LaunchConfigurationTabGroup"
            type="org.glassfish.jst.server.GlassfishServerLaunchConfigurationType">
        </launchConfigurationTabGroup>
    </extension>
    <extension point="org.eclipse.debug.ui.launchConfigurationTypeImages">
        <launchConfigurationTypeImage 
            id="org.glassfish.eclipse.tools.server.ui.launchConfigurationTypeImage"
            configTypeID="org.glassfish.jst.server.GlassfishServerLaunchConfigurationType"
            icon="icons/obj16/glassfish-blue.png">
        </launchConfigurationTypeImage>
    </extension>

   
    <!--
        This contributes content to the "Server Editor", which is the editor that opens when you double click
        the GlassFish server in the Servers views. The content itself is a link to the properties page.
    -->
    <extension point="org.eclipse.wst.server.ui.editorPageSections">
        <section
            id="org.glassfish.eclipse.tools.server.ServerSection"
            class="org.glassfish.eclipse.tools.server.ui.editorsections.ServerSection"
            typeIds="glassfish.server"
            insertionId="org.eclipse.wst.server.editor.overview.left"
            order="10">
        </section>
    </extension>
    
    
    <!-- 
        Menu entries that are being shown for the GlassFish server when e.g. the server is right clicked
        in the Servers view and "GlassFish" is chosen from the context menu  
    -->
    
    <!-- 1. Definitions of commands for the menu entries -->
    
    <extension point="org.eclipse.ui.commands">
        <category
            id="org.glassfish.eclipse.tools.server.commands.category"
            name="glassfish-commands">
        </category>
        
        <command
            id="org.glassfish.eclipse.tools.server.commands.ViewLogCommand"
            name="%menu.viewlogfile"
            description="%menu.viewlogfile">
        </command>
        <command
            id="org.glassfish.eclipse.tools.server.commands.ViewAdminConsoleCommand"
            name="%menu.viewadminconsole"
            description="%menu.viewadminconsole">
        </command>
        <command
            id="org.glassfish.eclipse.tools.server.commands.OpenUrlCommand"
            name="OpenUrlCommand">
            <commandParameter
                id="org.glassfish.eclipse.tools.server.commands.urlParam"
                name="url"
                optional="false">
            </commandParameter>
        </command>
        <command
            id="org.glassfish.eclipse.tools.server.commands.OpenServerHomeCommand"
            name="OpenServerHomeCommand">
        </command>
        <command
            id="org.glassfish.eclipse.tools.server.commands.OpenDomainHomeCommand"
            name="OpenDomainHomeCommand">
        </command>
    </extension>
     
    <!-- 2. Handlers corresponding to the commands defined above  -->
 
    <extension point="org.eclipse.ui.handlers">
        <handler
            class="org.glassfish.eclipse.tools.server.handlers.ViewLogHandler"
            commandId="org.glassfish.eclipse.tools.server.commands.ViewLogCommand">
            <enabledWhen>
                <or>
                    <not>
                        <reference definitionId="org.glassfish.eclipse.tools.server.isRemoteGlassfish"/>
                    </not>
                    <reference definitionId="org.glassfish.eclipse.tools.server.oneRunningGlassfishSelected"/>
                </or>
            </enabledWhen>
        </handler>
     
        <handler 
            commandId="org.glassfish.eclipse.tools.server.commands.ViewAdminConsoleCommand"
            class="org.glassfish.eclipse.tools.server.handlers.ViewAdminConsoleHandler"
        >
            <enabledWhen>
                <reference definitionId="org.glassfish.eclipse.tools.server.oneRunningGlassfishSelected"/>
            </enabledWhen>
        </handler>
		   
        <handler
            commandId="org.glassfish.eclipse.tools.server.commands.OpenUrlCommand"
            class="org.glassfish.eclipse.tools.server.handlers.ShowURLHandler">
        </handler>
		   
        <handler
            commandId="org.glassfish.eclipse.tools.server.commands.OpenServerHomeCommand"
            class="org.glassfish.eclipse.tools.server.handlers.OpenServerHomeHandler"
        >
            <enabledWhen>
                <reference definitionId="org.glassfish.eclipse.tools.server.oneGlassfishSelected"/>
            </enabledWhen>  
        </handler>
		 
        <handler 
            commandId="org.glassfish.eclipse.tools.server.commands.OpenDomainHomeCommand"
            class="org.glassfish.eclipse.tools.server.handlers.OpenDomainHomeHandler"
        >
            <enabledWhen>
                <and>
                    <or>
                        <reference definitionId="org.glassfish.eclipse.tools.server.isWSLInstance"/>
                        <not>    
                            <reference definitionId="org.glassfish.eclipse.tools.server.isRemoteGlassfish"/>
                        </not>
                    </or>
                    <reference definitionId="org.glassfish.eclipse.tools.server.oneGlassfishSelected"/>
                </and>
            </enabledWhen>
        </handler>
        
        <handler
			commandId="org.glassfish.eclipse.tools.server.commands.MigrateHandler"
			class="org.glassfish.eclipse.tools.server.handlers.MigrateHandler">
	   </handler>
    </extension>

    <!-- 3. Definitions of the menu entries putting the above defined commands in -->
    
    <extension point="org.eclipse.ui.menus">
        <menuContribution
            allPopups="false"
            locationURI="popup:org.eclipse.wst.server.ui.ServersView?after=additions">
            <menu
                id="org.glassfish.eclipse.tools.server.actions.subMenu"
                icon="icons/obj16/glassfish-blue.png"
                label="%menu.glassfishtopmenu">
                <separator name="group1"/>
                <visibleWhen checkEnabled="false">
                    <reference definitionId="org.glassfish.eclipse.tools.server.moreGlassfishSelected"/>
                </visibleWhen>
           
                <command
                    commandId="org.glassfish.eclipse.tools.server.commands.ViewAdminConsoleCommand"
                    icon="icons/obj16/glassfish-blue.png"
                    style="push">
                </command>
                <command
                    commandId="org.glassfish.eclipse.tools.server.commands.ViewLogCommand"
                    icon="icons/obj16/logfile.png"
                    style="push">
                </command>
                <command
                    commandId="org.glassfish.eclipse.tools.server.commands.OpenServerHomeCommand"
                    icon="icons/obj16/folder_open.png"
                    label="%menu.openserverhome"
                    style="push">
                    <visibleWhen checkEnabled="false">
                        <reference definitionId="org.glassfish.eclipse.tools.server.oneGlassfishSelected"/>
                    </visibleWhen>
                </command>
                <command
                    commandId="org.glassfish.eclipse.tools.server.commands.OpenDomainHomeCommand"
                    icon="icons/obj16/folder_open.png"
                    label="%menu.opendomainhome"
                    style="push">
                </command>
            </menu>
        </menuContribution>
        <menuContribution locationURI="popup:org.eclipse.ui.navigator.ProjectExplorer#PopupMenu?endof=group.build">
			<menu id="org.glassfish.eclipse.tools.project.actions.migrate" label="%menu.migrate">
				<command commandId="org.glassfish.eclipse.tools.server.commands.MigrateHandler" label="%menu.convert" style="push">
				</command>
				<visibleWhen>
					<or>
						<with variable="activeMenuSelection">
							<iterate>
								<adapt type="org.eclipse.core.resources.IProject"></adapt>
							</iterate>
						</with>
						<with variable="activeMenuSelection">
							<iterate>
								<adapt type="org.eclipse.jdt.core.ICompilationUnit"></adapt>
							</iterate>
						</with>
					</or>
	            </visibleWhen>
			</menu>
		</menuContribution>
		<menuContribution locationURI="popup:org.eclipse.jdt.ui.PackageExplorer?endof=group.build">
			<menu id="org.glassfish.eclipse.tools.package.actions.migrate" label="%menu.migrate">
				<command commandId="org.glassfish.eclipse.tools.server.commands.MigrateHandler" label="%menu.convert" style="push">
				</command>
				<visibleWhen>
					<or>
						<with variable="activeMenuSelection">
							<iterate>
								<adapt type="org.eclipse.core.resources.IProject"></adapt>
							</iterate>
						</with>
						<with variable="activeMenuSelection">
							<iterate>
								<adapt type="org.eclipse.jdt.core.ICompilationUnit"></adapt>
							</iterate>
						</with>
					</or>
	            </visibleWhen>
			</menu>
		</menuContribution>
    </extension>
  
    <!-- 
        Properties that are being shown for the GlassFish server when e.g. the server is right clicked
        in the Servers view and "Properties" is chosen from the context menu 
    -->
    <extension point="org.eclipse.ui.propertyPages">
        <page
            id="org.glassfish.eclipse.tools.server.ui.server.properties.glassfish"
            name="GlassFish"
            class="org.glassfish.eclipse.tools.server.ui.properties.ServerPropertyPage">
            <enabledWhen>
                <and>
                    <adapt type="org.eclipse.wst.server.core.IServer" />
                    <reference definitionId="org.glassfish.eclipse.tools.server.isGlassfish"/>
                </and>
            </enabledWhen>
        </page>  
    </extension>
    
    
    <extension point="org.eclipse.jdt.ui.classpathContainerPage">
        <classpathContainerPage
            id="org.glassfish.eclipse.tools.server.lib.system"
            name="GlassFish properties"
            class="org.glassfish.eclipse.tools.server.ui.properties.ClasspathContainerPage">
        </classpathContainerPage>
    </extension>
    
    
    <!--
        This provides the dynamic nodes; the tree nodes that are inserted underneath 
        a running GlassFish server node in the Servers view. 
    -->
    <extension point="org.eclipse.ui.navigator.viewer">
        <viewerContentBinding viewerId="org.eclipse.wst.server.ui.ServersView">
            <includes>
                <contentExtension pattern="glassfish.serverview.contentprovider"/>
            </includes>
        </viewerContentBinding>
       
        <viewerActionBinding viewerId="org.eclipse.wst.server.ui.ServersView">
            <includes>
                <actionExtension pattern="org.glassfish.eclipse.tools.server.ui.serverview.ServerModuleActionProvider" />
            </includes>
        </viewerActionBinding>
    </extension>
    
    <extension point="org.eclipse.ui.navigator.navigatorContent">
        <navigatorContent
            id="glassfish.serverview.contentprovider"
            contentProvider="org.glassfish.eclipse.tools.server.ui.serverview.ServerViewDynamicNodeProvider"
            labelProvider="org.glassfish.eclipse.tools.server.ui.serverview.ServerViewLabelProvider"
            name="GlassFish Management Nodes"
            icon="icons/obj16/glassfish-blue.png"
            activeByDefault="true"
            priority="highest">
            <triggerPoints>
                <instanceof value="org.eclipse.wst.server.core.IServer"/>
            </triggerPoints>
            <possibleChildren>
                <instanceof value="org.glassfish.eclipse.tools.server.ui.serverview.dynamicnodes.TreeNode"/>
            </possibleChildren>
          
            <!-- This adds for example the "unregister" action when you right click on a resource such as a JDBC data source -->
            <actionProvider
                id="org.glassfish.eclipse.tools.server.ui.serverview.ServerViewActionProvider"
                class="org.glassfish.eclipse.tools.server.ui.serverview.ServerViewActionProvider"
                priority="highest">
                <enablement>
                    <or>
                        <instanceof value="org.eclipse.wst.server.core.IServer"/>
                        <instanceof value="org.glassfish.eclipse.tools.server.ui.serverview.dynamicnodes.TreeNode"/>
                        <adapt type="java.util.Collection"><count value="0"/></adapt>
                    </or>
                </enablement>
            </actionProvider>
        </navigatorContent>
       
        <actionProvider
            id="org.glassfish.eclipse.tools.server.ui.serverview.ServerModuleActionProvider"
            class="org.glassfish.eclipse.tools.server.ui.serverview.ServerModuleActionProvider"
            dependsOn="org.eclipse.wst.server.ui.ServersView.ServerActionProvider"
            priority="higher">
            <enablement>
                <or>
                    <instanceof value="org.eclipse.wst.server.core.IServer">
                    </instanceof>
                    <instanceof
                        value="org.eclipse.wst.server.ui.internal.view.servers.ModuleServer">
                    </instanceof>
                </or>
            </enablement>
        </actionProvider>
       
        <commonWizard
            menuGroupId="org.glassfish.eclipse.tools.server.v3.wizards"
            type="new"
            wizardId="org.glassfish.eclipse.tools.server.v3.wizards.AddGenericResourceWizard">
            <enablement>
                <adapt type="org.eclipse.core.resources.IResource">
                    <test
                        property="org.eclipse.wst.common.project.facet.core.projectFacet"
                        value="glassfish.web">
                    </test>
                </adapt>
            </enablement>
        </commonWizard>
    </extension>
  
  
    <!-- 
        This adds hyper links to the console that shows GlassFish's server logging 
    -->
    <extension point="org.eclipse.ui.console.consolePageParticipants">
        <consolePageParticipant
            id="org.glassfish.eclipse.tools.server.log.GlassFishLogPageParticipant"
            class="org.glassfish.eclipse.tools.server.ui.log.GlassFishLogPageParticipant">
            <enablement>
                <instanceof value="org.glassfish.eclipse.tools.server.log.GlassFishConsole"/>
            </enablement>
        </consolePageParticipant>
    </extension>
    
    <extension point="org.eclipse.ui.console.consolePatternMatchListeners">
        <consolePatternMatchListener
            id="org.glassfish.eclipse.tools.server.ui.consolePatternMatchListener"
            class="org.glassfish.eclipse.tools.server.ui.log.GlassFishConsoleTracker"
            qualifier="${java_extensions_regex}"
            regex="\(\S*${java_extensions_regex}\S*\)">
            <enablement></enablement>
        </consolePatternMatchListener>
    </extension> 

    <extension point="org.eclipse.ui.perspectiveExtensions">
        <perspectiveExtension targetID="org.eclipse.jst.j2ee.J2EEPerspective">
            <newWizardShortcut id="org.glassfish.eclipse.tools.server.v3.wizards.AddGenericResourceWizard"/>
        </perspectiveExtension>
    </extension>
  
    <extension point="org.eclipse.ui.newWizards">
        <category
            id="org.glassfish.eclipse.tools"
            name="%glassfish.wizardcategory">
        </category>
        <wizard
            id="org.glassfish.eclipse.tools.server.ui.resources.wizards.JDBCWizard"
            category="org.glassfish.eclipse.tools"
            class="org.glassfish.eclipse.tools.server.ui.resources.wizards.JDBCWizard"
            icon="icons/obj16/glassfish-blue.png"
            name="%glassfish.sunresourceslabel">
            <description>
                %glassfish.sunresources.BeanWebRegionWizard.description
            </description>
            <selection
                class="org.eclipse.core.resources.IResource">
            </selection>
        </wizard>
        <wizard
            id="org.glassfish.eclipse.tools.server.ui.resources.wizards.MailWizard"
            category="org.glassfish.eclipse.tools"
            class="org.glassfish.eclipse.tools.server.ui.resources.wizards.MailWizard"
            icon="icons/obj16/glassfish-blue.png"
            name="%glassfish.mailresourceslabel">
            <description>
                %glassfish.mailresources.BeanWebRegionWizard.description
            </description>
            <selection
                class="org.eclipse.core.resources.IResource">
            </selection>
        </wizard>
        <wizard
            id="org.glassfish.eclipse.tools.server.ui.resources.wizards.JMSWizard"
            category="org.glassfish.eclipse.tools"
            class="org.glassfish.eclipse.tools.server.ui.resources.wizards.JMSWizard"
            icon="icons/obj16/glassfish-blue.png"
            name="%glassfish.jmsresourceslabel">
            <description>
                %glassfish.jmsresources.BeanWebRegionWizard.description
            </description>
            <selection
                class="org.eclipse.core.resources.IResource">
            </selection>
        </wizard>
        <wizard
            id="org.glassfish.eclipse.tools.server.v3.wizards.AddGenericResourceWizard"
            category="org.glassfish.eclipse.tools"
            class="org.glassfish.eclipse.tools.server.ui.rest.wizards.AddGenericResourceWizard"
            icon="icons/obj16/glassfish-blue.png"
            name="%glassfish.restfulfrompatternlabel">
            <description>
                %glassfish.restfulfrompattern.BeanWebRegionWizard.description
            </description>
        </wizard>
    </extension>
 
  
    <extension point="org.eclipse.jst.common.project.facet.ui.libraryProviderActionPanels">
        <panel
            class="org.glassfish.eclipse.tools.server.ui.internal.JAXRSActionPanels"
            provider="org.glassfish.eclipse.tools.server.jaxrsLibraryproviderID">
        </panel>
    </extension>
	
</plugin>
